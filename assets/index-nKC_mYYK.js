import{j as e,d as A,r as a,L as F}from"./index-CVbCT0l5.js";import{a as w,d as D,u as N,g as R}from"./Tienda-CgK9HzvW.js";import{p as q,b as k,c as O}from"./Tools-BXmtYGau.js";import{F as r}from"./index-AB0PUNYF.js";import{M as x}from"./index-C_KmYm4B.js";import{I as d}from"./index-CXbtJAhA.js";import{F as M}from"./index-B5EitbXG.js";import{C as g}from"./index-Dsvk128_.js";import{T as p}from"./index-L4NGzRYx.js";import{R as P}from"./EditOutlined-B62p0QHN.js";import{R as v}from"./EyeOutlined-BxNeC4-a.js";import{P as S}from"./index-CY0FoLSo.js";import{R as L}from"./DeleteOutlined-BBiDU8Ax.js";import{F as V}from"./index-WQRKhCfL.js";import{D as T}from"./index-Dhe16Acy.js";import"./ApiClient-CULQ52Ii.js";import"./ContextIsolator-BDuV7uS_.js";import"./useSize-zAnCzYCD.js";import"./button-DfgpAk1h.js";import"./EllipsisOutlined-DlXNZPqD.js";import"./useMergedState-fGtj9LVw.js";import"./row-CzRmizyp.js";import"./responsiveObserver-CLScrf4w.js";import"./ActionButton-CywvW73d.js";import"./Skeleton-CXWlOTf-.js";import"./TextArea-Cl1KOnKG.js";import"./gapSize-U1swVQyS.js";import"./index-Bkui5ax7.js";import"./Dropdown-D-1DQADy.js";import"./scrollTo-B3cXvMnm.js";const U=({openModal:n,closeModal:o,reload:c})=>{const[s]=r.useForm();return e.jsx(x,{getContainer:!1,title:"NUEVA TIENDA",styles:{header:{textAlign:"center"}},open:n,onCancel:o,okText:"Añadir",onOk:s.submit,centered:!0,width:500,children:e.jsxs(r,{style:{maxWidth:600,margin:"0 auto"},size:"large",form:s,layout:"vertical",labelAlign:"center",id:"formulariocrear",onFinish:async t=>{await w(t),s.resetFields(),o(),c()},children:[e.jsx(r.Item,{style:{marginTop:20},name:"tienda",label:"Nombre de la Tienda",rules:[{required:!0,message:"Nombre requerido"}],children:e.jsx(d,{})}),e.jsx(r.Item,{style:{marginTop:20},name:"direccion",label:"Direccion de la Tienda",rules:[{required:!0,message:"Direccion requerida"}],children:e.jsx(d,{})}),e.jsx(r.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Telefono Requerido"},{pattern:/^[0-9]{9}$/,message:"Debe ser un número de exactamente 9 dígitos."}],children:e.jsx(d,{maxLength:9,onPaste:q,onKeyDown:k,onInput:O,showCount:!0})})]})})},_=({openModal:n,closeModal:o,id:c,reload:s})=>{const[t]=r.useForm(),i=A();return e.jsx(x,{forceRender:!0,getContainer:!1,title:"Eliminar Producto",open:n,onCancel:o,style:{textTransform:"uppercase"},onOk:t.submit,okText:"Eliminar",okButtonProps:{style:{backgroundColor:"red",borderColor:"red"}},centered:!0,width:500,children:e.jsxs(r,{style:{maxWidth:500,margin:"0 auto"},size:"large",form:t,layout:"vertical",labelAlign:"center",id:"formularioeditar",onFinish:async m=>{m.password==="ACEPTAR"?(await D(c),s(),t.resetFields(),o()):i("El texto no coincide")},children:[e.jsx(r.Item,{name:"username",style:{display:"none"},"aria-hidden":"true",children:e.jsx(d,{type:"text",autoComplete:"username"})}),e.jsx(r.Item,{name:"password",label:'Escriba "ACEPTAR"',rules:[{required:!0,message:"Contraseña Requerida"}],children:e.jsx(d,{})})]})})},$=({openModal:n,closeModal:o,id:c,reload:s,values:t})=>{const[i]=r.useForm();return a.useEffect(()=>{i.setFieldsValue({nombre:t.tienda,direccion:t.direccion,telefono:t.telefono})},[t]),e.jsx(x,{forceRender:!0,getContainer:!1,title:"EDITAR TIENDA",style:{header:{textAlign:"center"}},open:n,onCancel:o,okText:"Confirmar",onOk:i.submit,centered:!0,width:400,children:e.jsxs(r,{style:{margin:"0 auto"},size:"large",form:i,labelAlign:"center",id:"formulariocrear",layout:"vertical",onFinish:async m=>{await N(c,m),s(),o(!1)},children:[e.jsx(r.Item,{name:"nombre",label:"Tienda",rules:[{required:!0,message:"Nombre de la tienda requerida"}],children:e.jsx(d,{})}),e.jsx(r.Item,{name:"direccion",label:"Direccion",rules:[{type:"text",required:!0,message:"Direccion requerida"}],children:e.jsx(d,{})}),e.jsx(r.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Telefono requerido"}],children:e.jsx(d,{maxLength:9})})]})})},{Meta:z}=g,B=()=>{const[n,o]=a.useState(0),[c,s]=a.useState([]),[t,i]=a.useState(!0),[m,f]=a.useState(!1),[y,j]=a.useState(!1),[b,h]=a.useState(!1),[C,I]=a.useState([]);return a.useEffect(()=>{R(s)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(M,{wrap:!0,gap:"middle",justify:"space-evenly",gutter:20,children:c.map((l,E)=>e.jsx(g,{title:l.tienda,style:{overflow:"hidden"},actions:[e.jsx(p,{title:"Editar Tienda",className:"card-update",onClick:u=>{u.stopPropagation(),o(l.tienda_id),I(l),j(!0)},children:e.jsx("div",{children:e.jsx(P,{style:{color:"white"}})})}),e.jsx(p,{title:"Ver Detalles",className:"card-view",children:e.jsx(F,{to:`/tiendas/${l.tienda_id}`,children:e.jsx(v,{style:{color:"white"}},"view")})}),e.jsx(S,{title:"¿ELIMINAR?",description:"¿Está seguro de eliminar esta tienda?",okText:"Confirmar",placement:"bottom",onConfirm:u=>{u.stopPropagation(),o(l.tienda_id),h(!0)},cancelText:"Cancelar",children:e.jsx(p,{title:"Eliminar Tienda",className:"card-delete",children:e.jsx("div",{children:e.jsx(L,{style:{color:"white"}},"delete")})})})],children:e.jsx(z,{title:e.jsxs("p",{children:["TELEFONO: ",l.telefono]}),description:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["STOCK: ",l.total_stock??"0"]}),e.jsxs("p",{children:["DIRECCION: ",l.direccion]})]})})},E))}),e.jsx(V,{tooltip:"Añadir",onClick:()=>f(!0)}),e.jsx(U,{openModal:m,closeModal:()=>f(!1),reload:()=>i(!t)}),e.jsx($,{openModal:y,closeModal:()=>j(!1),id:n,reload:()=>i(!t),values:C}),e.jsx(_,{openModal:b,closeModal:()=>h(!1),id:n,reload:()=>i(!t)})]})},be=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{style:{textTransform:"uppercase"},children:"TIENDAS"}),e.jsx(B,{}),e.jsx(T,{})]});export{be as default};
