import{A as s}from"./ApiClient-CwTlTqVt.js";const l=async(o,r)=>{var t;try{const e=await s.get(`/corte/lote/${o}`,{withCredentials:!0});r(e.data||[])}catch(e){((t=e.response)==null?void 0:t.status)===404?r([]):(console.error("Error al obtener el corte:",e),r([]))}},n=async(o,r)=>{var t;try{const e=await s.get(`/corte/lote/${o}?tipo=diferido`,{withCredentials:!0});r(e.data||[])}catch(e){((t=e.response)==null?void 0:t.status)===404?r([]):(console.error("Error al obtener el corte:",e),r([]))}},d=async(o,r)=>{r.detalles=r.detalles.map(e=>({cantidad_enviada:e.cantidad_enviada,talla:e.talla,taller_id:e.taller_id??null}));try{var t=await s.post(`/corte/create/array/${o}`,r)}catch(e){console.error("Error al aÃ±adir el corte:",e)}},u=async(o,r,t)=>{try{const c=(await s.get(`/corte/lote/${o}`,{withCredentials:!0})).data.map(a=>({detallesCorte:`Taller Asignado: ${a.taller} | Producto: ${a.producto} | Talla: ${a.talla}`,id:a.corte_id,cantidad_recibida:a.cantidad_enviada}));r(c),t.setFieldsValue({items:c})}catch(e){console.error("Error al obtener el corte:",e),r([]),t.setFieldsValue({items:[]})}},p=async(o,r,t)=>{try{const c=(await s.get(`/corte/lote/${o}`,{withCredentials:!0})).data.map(a=>({datos_corte:`Producto: ${a.producto} | Cantidad: ${a.cantidad_enviada} | Talla: ${a.talla}`,corte_id:a.corte_id,taller_id:a.taller_id}));r(c.length>0?c:[]),t.setFieldsValue({items:c.length>0?c:[]})}catch(e){console.error("Error al obtener el corte:",e),r([]),t.setFieldsValue({items:[]})}},_=async(o,r)=>{if(r===1)try{await s.put(`/corte/desactivar/${o}`)}catch(t){console.error("Error al eliminar el corte:",t)}},h=async(o,r=null)=>{try{r||(r=(await s.get(`/corte/lote/${o}`,{withCredentials:!0})).data);const t=r.map(e=>({corte_id:e.id||e.corte_id,cantidad_recibida:e.cantidad_recibida,taller_id:e.taller_id}));await s.put(`/corte/sgte/lote/${o}`,{detalles:t},{withCredentials:!0})}catch(t){console.error("Error al cambiar el estado del corte:",t)}};export{p as a,d as b,h as c,l as d,_ as e,n as f,u as g};
