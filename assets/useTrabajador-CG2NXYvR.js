import{r as c}from"./index-Bunp8VmX.js";import{A as t}from"./ApiClient-CwTlTqVt.js";import{u as b}from"./useApiRequest-GF_nNgjO.js";const u=d=>{const{handleRequest:o,loading:n,error:i}=b(d),[s,e]=c.useState({});return{trabajador:s,loading:n,error:i,getTrabajador:async a=>{a&&await o(async()=>{const r=await t.get(`/trabajador/${a}`);e(r.data)})},addTrabajador:async a=>{const r={nombre:a.nombre,ap_paterno:a.ap_paterno,ap_materno:a.ap_materno,fecha_nacimiento:a.fecha_nacimiento.format("YYYY-MM-DD"),dni:a.dni,telefono:a.telefono,sueldo:a.sueldo,rol:a.rol,tienda_id:a.tienda_id??1};await o(()=>t.post("/trabajador/create",r),"Trabajador agregado")},updateTrabajador:async(a,r)=>{r.rol&&(r.tienda_id=r.rol!=1?1:r.rol),console.log(r),await o(()=>t.put(`/trabajador/update/${a}`,r),"Trabajador actualizado")},deleteTrabajador:async a=>{await o(async()=>{await t.delete(`/trabajador/delete/${a}`),e({})},"Trabajador eliminado")}}};export{u};
