import{e as f,r as n,j as t}from"./index-CVbCT0l5.js";import{b as w,c as I}from"./Producto-BYzNbulg.js";import{C as F}from"./index-Dsvk128_.js";import{I as M}from"./index-B4TgGuYv.js";import{L as k}from"./index-BXcGyJYz.js";import{D as x}from"./index-Dhe16Acy.js";import{B as c}from"./button-DfgpAk1h.js";import{T as P}from"./index-D5KCXF6Y.js";import{M as O}from"./index-C_KmYm4B.js";import{F as v}from"./Table-Czjr3Miv.js";import{P as E,T as _}from"./ProductoDetalleModal-DQbPP7g-.js";import{T as u}from"./Tabla-5tL5QKum.js";import{F as B}from"./index-B5EitbXG.js";import{T as R}from"./index-Bkui5ax7.js";import"./ApiClient-CULQ52Ii.js";import"./useSize-zAnCzYCD.js";import"./Skeleton-CXWlOTf-.js";import"./EyeOutlined-BxNeC4-a.js";import"./addEventListener-CvtMWzaB.js";import"./useMergedState-fGtj9LVw.js";import"./EllipsisOutlined-DlXNZPqD.js";import"./LeftOutlined-DiBxhoT3.js";import"./index-L4NGzRYx.js";import"./ContextIsolator-BDuV7uS_.js";import"./responsiveObserver-CLScrf4w.js";import"./index-BhSnBzJY.js";import"./TextArea-Cl1KOnKG.js";import"./CheckOutlined-JcE4lr5y.js";import"./DownOutlined-Bi8IMX8W.js";import"./useBreakpoint-BGM5iO-x.js";import"./row-CzRmizyp.js";import"./EditOutlined-B62p0QHN.js";import"./styleChecker-DScY0sRB.js";import"./ActionButton-CywvW73d.js";import"./index-CS-4uwXW.js";import"./Dropdown-D-1DQADy.js";import"./index-DC-dasep.js";import"./index-tbJP58fR.js";import"./gapSize-U1swVQyS.js";import"./scrollTo-B3cXvMnm.js";import"./index-CXbtJAhA.js";const{Paragraph:K}=P,$=()=>{const{id:e}=f(),[a,r]=n.useState([]);n.useEffect(()=>{w(e,r)},[e]);const o=`/img/productos/${a.producto_id}.png`;return t.jsx(t.Fragment,{children:a&&t.jsxs(F,{style:{maxWidth:300,textAlign:"center",margin:"auto"},title:a.nombre,cover:t.jsx(M,{alt:"example",src:o,fallback:"https://i.pinimg.com/736x/a1/cd/44/a1cd44f6617beebb9794877ef59082a1.jpg",style:{width:"100%",height:"auto"}}),children:[t.jsx(k,{itemLayout:"horizontal",dataSource:[{title:"STOCK TOTAL",value:a.stockTotal},{title:"PRECIO",value:a.precioBase},{title:"COLORES",value:a.cantidad_colores}],renderItem:l=>t.jsx(k.Item,{children:t.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[t.jsxs("strong",{children:[l.title,":"]}),t.jsx(K,{copyable:!0,children:l.value})]})})}),t.jsx(x,{})," ",t.jsxs(c,{type:"primary",block:!0,style:{fontWeight:"bold"},children:[" ","OBTENER REPORTE"]})]})})},W=({openModal:e,closeModal:a,id:r,talla:o})=>{const[l,d]=n.useState([]);n.useEffect(()=>{o&&I(r,o)},[o]);const g=[{title:"Color",key:"nombre",dataIndex:"nombre",align:"center",render:(s,m)=>t.jsx(t.Fragment,{children:m.nombre})},{title:"Stock",key:"stock",align:"center",dataIndex:"stock",defaultSortOrder:"ascend",onCell:s=>({style:{background:s.stock>=50?"green":s.stock<=20?"#f54242":"#FCFB77",color:s.stock<=20||s.stock>=50?"white":"black",padding:"10px"}})}];return t.jsx(t.Fragment,{children:t.jsx(O,{forceRender:!0,getContainer:!1,styles:{header:{textAlign:"center"}},title:"COLORES",open:e,onCancel:()=>{a(!1)},centered:!0,width:500,footer:t.jsx(c,{onClick:()=>a(!1),children:"Cerrar"}),children:t.jsx(v,{scroll:{x:"min-content"},columns:g,pagination:{pageSize:4},bordered:!0,dataSource:l,rowKey:s=>s.color_id})})})},L=(e,a,r)=>[{title:"Tienda",dataIndex:"tienda",key:"tienda",align:"center"},{title:"Stock Total",dataIndex:"STOCK",key:"STOCK",align:"center",onCell:l=>({style:{background:l.stock>=50?"green":l.stock<=20?"#f54242":"#FCFB77",color:l.stock<=20||l.stock>=50?"white":"black",padding:"10px"}})},{title:"Ver más",dataIndex:"tienda_id",key:"verMas",align:"center",render:(l,d)=>t.jsx(c,{type:"primary",style:{width:"55px"},block:!0,onClick:()=>{a(l),e("tiendaD",!0)},children:"+"})}],A=e=>`producto/detalle/${e}?tipo=tiendas`,U=(e,a)=>[{title:"Talla",dataIndex:"talla",key:"talla",align:"center"},{title:"Cantidad",dataIndex:"cantidad",key:"cantidad",align:"center",onCell:o=>({style:{background:o.stock>=50?"green":o.stock<=20?"#f54242":"#FCFB77",color:o.stock<=20||o.stock>=50?"white":"black",padding:"10px"}})}],V=e=>`producto/detalle/${e}?tipo=tallas`,z=(e,a)=>[{title:"Color",dataIndex:"color_nombre",key:"color_nombre",align:"center"},{title:"Stock",dataIndex:"stock",key:"stock",align:"center",sorter:{compare:(o,l)=>o.stock-l.stock,multiple:2},onCell:o=>({style:{background:o.stock>=50?"green":o.stock<=20?"#f54242":"#FCFB77",color:o.stock<=20||o.stock>=50?"white":"black",padding:"10px"}})},{title:"Ver más",key:"verMas",align:"center",render:(o,l)=>t.jsx(c,{type:"primary",style:{width:"55px"},block:!0,onClick:()=>{a(l.productoDetalle_id),e("colorD",!0)},children:"+"})}],N=e=>`producto/detalle/${e}?tipo=colores`,Et=()=>{const{id:e}=f(),[a,r]=n.useState(!0),[o,l]=n.useState(0),[d,g]=n.useState(0),[s,m]=n.useState(0),[p,y]=n.useState({tiendaD:!1,tallaD:!1,colorD:!1}),i=(T,D)=>{y(S=>({...S,[T]:D}))},h=L(i,l),C=U(),j=z(i,m),b=[{key:"1",label:"Tiendas",children:t.jsx(u,{columnas:h,rowKey:"tienda_id",url:A(e),reload:()=>r(!a)})},{key:"2",label:"Tallas",children:t.jsx(u,{columnas:C,rowKey:"trabajador_id",url:V(e),reload:()=>r(!a)})},{key:"3",label:"Colores",children:t.jsx(u,{columnas:j,rowKey:"codigo",url:N(e),reload:()=>r(!a)})}];return t.jsxs(t.Fragment,{children:[t.jsx(x,{style:{textTransform:"uppercase"},children:"Detalles del Producto"}),t.jsxs(B,{wrap:!0,gap:"large",justify:"space-evenly",align:"flex-start",style:{width:"100%",maxWidth:"1200px",margin:"0 auto",padding:"1rem"},children:[t.jsx($,{style:{flex:"1 1 45%",minWidth:"400px",maxWidth:"700px"}}),t.jsx(R,{style:{flex:"1 1 45%",minWidth:"400px",maxWidth:"500px"},defaultActiveKey:"1",items:b})]}),t.jsx(x,{}),t.jsx(E,{openModal:p.tiendaD,closeModal:()=>i("tiendaD",!1),tipo:"tienda_id",id:e,idp:o}),t.jsx(W,{openModal:p.tallaD,closeModal:()=>i("tallaD",!1),id:e,talla:d}),t.jsx(_,{openModal:p.colorD,closeModal:()=>i("colorD",!1),idD:s})]})};export{Et as default};
