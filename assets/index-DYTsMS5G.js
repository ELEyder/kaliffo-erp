import{j as t,B as l,r as c,c as b}from"./index-Bunp8VmX.js";import{D as h,a as C}from"./index-AKhf147z.js";import"./ApiClient-CwTlTqVt.js";import{u as A}from"./useTienda-C_tg50F7.js";import{u as P}from"./useReporte-R8BIfgOV.js";import{P as E}from"./ProductosTable-Bi6LmaJd.js";import{T as u}from"./index-1LFFKiN5.js";import{F as x}from"./index-BJT4Palo.js";import{P as T}from"./index-BYkL8nB6.js";import{u as N}from"./useTrabajadores-BLGXokh3.js";import{u as y}from"./useTrabajador-CG2NXYvR.js";import{A as R}from"./AddIncidenciaModal-CYqPXxuC.js";import{A as k}from"./AddPersonalModal-pZVDgOu4.js";import{U as V}from"./UpdateTrabajadorModal-CVTmog7b.js";import{F as M}from"./index-qnTMOKQ7.js";import{T as O}from"./index-B00MmLCC.js";import"./index-BD1DMr01.js";import"./Skeleton-DQ75DhjH.js";import"./Table-azPtpNCw.js";import"./styleChecker-BYYi54FN.js";import"./index-CWZRQiGq.js";import"./Dropdown-CAg5ab4S.js";import"./gapSize-U1swVQyS.js";import"./scrollTo-CK3_7m1G.js";import"./useBreakpoint-RvYD15SG.js";import"./index-BkpqA939.js";import"./index-B_8r9Za8.js";import"./index-DokvF9RQ.js";import"./useApiRequest-GF_nNgjO.js";import"./useProductos-B_dEi9oV.js";import"./index-DGSKjoIJ.js";import"./index-DCZRlB0p.js";import"./ActionButton-DynUVMgy.js";import"./useProducto-BhalF6G5.js";import"./useTiendas-DooPxEv9.js";const S=()=>{const a=[{title:"Nº (Datos de prueba)",dataIndex:"id"},{title:"Código",dataIndex:"codigo"},{title:"Tipo de Venta",dataIndex:"tipo"},{title:"Fecha de Venta",dataIndex:"fechaVenta"},{title:"Cantidad",dataIndex:"cantidad"},{title:"Total Bruto",dataIndex:"totalBruto"},{title:"Total Neto",dataIndex:"totalNeto"},{title:"IGV",dataIndex:"IGV"},{title:"Tipo de Pago",dataIndex:"tipoPago"},{title:"RUC",dataIndex:"RUC"},{title:"Tienda",dataIndex:"tiendaId"},{title:"Opciones",dataIndex:"codigo",render:r=>t.jsx(x,{gap:"small",justify:"center",align:"middle",wrap:"wrap",children:t.jsx(T,{title:"ANULAR",description:"¿DESEA ANULAR ESTA VENTA?",okText:"Confirmar",onConfirm:async o=>{o.stopPropagation(),await ApiClient.delete(`/trabajador/delete/${r}`)},cancelText:"NO",children:t.jsx(l,{block:!0,style:{background:"#f54242",color:"white"},danger:!0,onClick:o=>o.stopPropagation(),children:"Anular"})})})}],e=[{id:3,codigo:3,tipo:1,fechaVenta:"2024-09-12",cantidad:2,totalBruto:2,totalNeto:2,IGV:2,tipoPago:"Tarjeta de crédito",RUC:1231234123,tiendaId:123145143},{id:4,codigo:4,tipo:1,fechaVenta:"2024-09-12",cantidad:2,totalBruto:2,totalNeto:2,IGV:2,tipoPago:"Tarjeta de crédito",RUC:123145143,tiendaId:123145143}];return t.jsx(t.Fragment,{children:t.jsx(u,{columnas:a,rowKey:"id",dataSource:e})})},w=({tienda_id:a})=>{const{trabajadores:e,loading:r,getTrabajadores:o}=N({tienda_id:a}),{deleteTrabajador:j}=y(o),[p,m]=c.useState({}),[s,f]=c.useState({updT:!1,addT:!1,addI:!1}),i=(n,d)=>{f(g=>({...g,[n]:d}))};let I=[{title:"Nombres",dataIndex:"nombres"},{title:"DNI",dataIndex:"dni"},{title:"Teléfono",dataIndex:"telefono"},{title:"Incidencias",dataIndex:"total_incidencias"},{title:"Sueldo",dataIndex:"sueldo"},{title:"Rol",dataIndex:"rol"},{title:"Tienda",dataIndex:"tienda"},{title:"Opciones",render:n=>t.jsxs(x,{gap:"small",justify:"center",align:"middle",wrap:"wrap",children:[t.jsx(l,{type:"primary",onClick:d=>{d.stopPropagation(),m(n),i("updT",!0)},children:"Editar"}),t.jsx(l,{onClick:d=>{d.stopPropagation(),m(n),i("addI",!0)},children:"+ Incidencia"}),t.jsx(T,{title:"¿ELIMINAR?",description:"¿Estás seguro de eliminar este usuario?",okText:"Confirmar",cancelText:"Cancelar",onConfirm:async d=>{d.stopPropagation(),await j(n.trabajador_id)},children:t.jsx(l,{type:"primary",danger:!0,onClick:d=>d.stopPropagation(),children:"Eliminar"})})]})}];return t.jsxs(t.Fragment,{children:[t.jsx(u,{columnas:I,rowKey:"trabajador_id",dataSource:e,loading:r}),t.jsx(M,{onClick:()=>i("addT",!0)}),t.jsx(V,{openModal:s.updT,closeModal:()=>i("updT",!1),data:p,onUpdated:o}),t.jsx(k,{openModal:s.addT,closeModal:()=>i("addT",!1),tienda_id:a,onAdded:o}),t.jsx(R,{openModal:s.addI,closeModal:()=>i("addI",!1),id:p.trabajador_id,onAdded:o})]})},D=({id:a})=>{const{tienda:e,getTienda:r}=A(),{getReporteTienda:o}=P();return c.useEffect(()=>{r(a)},[a]),t.jsx(h,{title:e.tienda,list:[{title:"DIRECCIÓN",value:e.direccion},{title:"TELÉFONO",value:e.telefono},{title:"STOCK TOTAL",value:e.total_stock},{title:"VENTAS TOTALES",value:e.ventas},{title:"PERSONAL ASIGNADO",value:e.total_usuarios}],children:t.jsx(l,{onClick:()=>o(a),type:"primary",block:!0,children:"OBTENER REPORTE"})})},ft=()=>{const{id:a}=b(),e=[{key:"1",label:"Productos (No test)",children:t.jsx(E,{id:a})},{key:"2",label:"Personal",children:t.jsx(w,{tienda_id:a})},{key:"3",label:"Ventas",children:t.jsx(S,{id:a})}];return t.jsx(t.Fragment,{children:t.jsxs(C,{children:[t.jsx(D,{id:a}),t.jsx(O,{items:e})]})})};export{ft as default};
