import{F as c,j as t,D as u,r as l,e as i}from"./index-Bunp8VmX.js";import{T as m}from"./index-1LFFKiN5.js";import"./ApiClient-CwTlTqVt.js";import{u as p}from"./useProductos-B_dEi9oV.js";import{D as x}from"./index-DGSKjoIJ.js";import{u as b}from"./useProducto-BhalF6G5.js";import{F as f}from"./index-qnTMOKQ7.js";const P=({openModal:n,closeModal:e,onAdded:r})=>{const[s]=c.useForm(),{addProducto:a}=b(r),d=async o=>{await a(o),e()};return t.jsx(x,{isOpen:n,onClose:e,title:"AÃ±adir Producto",onOk:s.submit,children:t.jsx(u,{form:s,onFinish:d,rows:[{type:"text",name:"nombre",label:"Nombre del Producto"},{type:"number",name:"precioBase",label:"Precio Base"},{type:"percent",name:"descuento",label:"Descuento"}]})})},D=()=>{const{productos:n,loading:e,getProductos:r}=p(),[s,a]=l.useState(!1),d=[{title:"Producto",dataIndex:"nombre"},{title:"Stock",dataIndex:"stockTotal",onCell:o=>({style:{background:o.stock>=50?"green":o.stock<=20?"#f54242":"#FCFB77",color:o.stock<=20||o.stock>=50?"white":"black",padding:"10px"}})},{title:"Precio",dataIndex:"precioBase",render:o=>`S/ ${o}`},{title:"Descuento",dataIndex:"descuento",render:o=>`${o}%`,onCell:o=>({style:{background:o.descuento<=10?"green":o.descuento>=20?"#f54242":"#FCFB77",color:o.descuento<=10||o.descuento>=20?"white":"black",padding:"10px"}})}];return e?t.jsx(i,{}):t.jsxs(t.Fragment,{children:[t.jsx(m,{columnas:d,rowKey:"producto_id",dataSource:n}),t.jsx(f,{onClick:()=>a(!0)}),t.jsx(P,{openModal:s,closeModal:()=>a(!1),onAdded:r})]})};export{D as P};
