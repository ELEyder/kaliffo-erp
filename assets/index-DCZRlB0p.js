import{r as s,m as T,R as v,y as W,aw as we,aj as Ne,aS as Se,B as ne,aM as ke,aD as H,aT as te,aU as Me,E as z,G as oe,f as I,H as Fe,aV as Be,aW as Re,J as L,aX as Ae,ax as Le,x as ze,ag as le,aa as De,a9 as We,a8 as He,a7 as Ve,aY as _e,a5 as qe,aZ as Xe,af as Ge,ah as Qe,M as Ze,a_ as Ue}from"./index-Bunp8VmX.js";import{A as se}from"./ActionButton-DynUVMgy.js";import{u as re,D as Ye,p as Je,a as Ke,P as en}from"./index-BkpqA939.js";import{S as nn}from"./Skeleton-DQ75DhjH.js";function tn(){const[e,t]=s.useState([]),l=s.useCallback(n=>(t(o=>[].concat(T(o),[n])),()=>{t(o=>o.filter(a=>a!==n))}),[]);return[e,l]}const B=v.createContext({}),{Provider:ae}=B,X=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:l,isSilent:n,mergedOkCancel:o,rootPrefixCls:a,close:f,onCancel:u,onConfirm:c}=s.useContext(B);return o?v.createElement(se,{isSilent:n,actionFn:u,close:function(){f==null||f.apply(void 0,arguments),c==null||c(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${a}-btn`},l):null},G=()=>{const{autoFocusButton:e,close:t,isSilent:l,okButtonProps:n,rootPrefixCls:o,okTextLocale:a,okType:f,onConfirm:u,onOk:c}=s.useContext(B);return v.createElement(se,{isSilent:l,type:f||"primary",actionFn:c,close:function(){t==null||t.apply(void 0,arguments),u==null||u(!0)},autoFocus:e==="ok",buttonProps:n,prefixCls:`${o}-btn`},a)};function Q(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function Z(e){const{closable:t,closeIcon:l}=e||{};return v.useMemo(()=>{if(!t&&(t===!1||l===!1||l===null))return!1;if(t===void 0&&l===void 0)return null;let n={closeIcon:typeof l!="boolean"&&l!==null?l:void 0};return t&&typeof t=="object"&&(n=Object.assign(Object.assign({},n),t)),n},[t,l])}function U(){const e={};for(var t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return l.forEach(o=>{o&&Object.keys(o).forEach(a=>{o[a]!==void 0&&(e[a]=o[a])})}),e}const on={};function ln(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:on;const n=Z(e),o=Z(t),a=typeof n!="boolean"?!!(n!=null&&n.disabled):!1,f=v.useMemo(()=>Object.assign({closeIcon:v.createElement(W,null)},l),[l]),u=v.useMemo(()=>n===!1?!1:n?U(f,o,n):o===!1?!1:o?U(f,o):f.closable?f:!1,[n,o,f]);return v.useMemo(()=>{if(u===!1)return[!1,null,a];const{closeIconRender:c}=f,{closeIcon:i}=u;let r=i;if(r!=null){c&&(r=c(i));const d=we(u,!0);Object.keys(d).length&&(r=v.isValidElement(r)?v.cloneElement(r,d):v.createElement("span",Object.assign({},d),r))}return[!0,r,a]},[u,f])}const sn=()=>Ne()&&window.document.documentElement;function Y(){}const rn=s.createContext({add:Y,remove:Y});function an(e){const t=s.useContext(rn),l=s.useRef();return Se(o=>{if(o){const a=e?o.querySelector(e):o;t.add(a),l.current=a}else t.remove(l.current)})}const J=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:l}=s.useContext(B);return v.createElement(ne,Object.assign({onClick:l},e),t)},K=()=>{const{confirmLoading:e,okButtonProps:t,okType:l,okTextLocale:n,onOk:o}=s.useContext(B);return v.createElement(ne,Object.assign({},ke(l),{loading:e,onClick:o},t),n)};function ce(e,t){return v.createElement("span",{className:`${e}-close-x`},t||v.createElement(W,{className:`${e}-close-icon`}))}const ie=e=>{const{okText:t,okType:l="primary",cancelText:n,confirmLoading:o,onOk:a,onCancel:f,okButtonProps:u,cancelButtonProps:c,footer:i}=e,[r]=H("Modal",te()),d=t||(r==null?void 0:r.okText),C=n||(r==null?void 0:r.cancelText),p={confirmLoading:o,okButtonProps:u,cancelButtonProps:c,okTextLocale:d,cancelTextLocale:C,okType:l,onOk:a,onCancel:f},y=v.useMemo(()=>p,T(Object.values(p)));let m;return typeof i=="function"||typeof i>"u"?(m=v.createElement(v.Fragment,null,v.createElement(J,null),v.createElement(K,null)),typeof i=="function"&&(m=i(m,{OkBtn:K,CancelBtn:J})),m=v.createElement(ae,{value:y},m)):m=i,v.createElement(Me,{disabled:!1},m)};var cn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};let D;const un=e=>{D={x:e.pageX,y:e.pageY},setTimeout(()=>{D=null},100)};sn()&&document.documentElement.addEventListener("click",un,!0);const ue=e=>{var t;const{getPopupContainer:l,getPrefixCls:n,direction:o,modal:a}=s.useContext(z),f=F=>{const{onCancel:S}=e;S==null||S(F)},u=F=>{const{onOk:S}=e;S==null||S(F)},{prefixCls:c,className:i,rootClassName:r,open:d,wrapClassName:C,centered:p,getContainer:y,focusTriggerAfterClose:m=!0,style:x,visible:g,width:b=520,footer:E,classNames:O,styles:P,children:w,loading:N}=e,j=cn(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),h=n("modal",c),M=n(),A=oe(h),[Oe,V,Pe]=re(h,A),he=I(C,{[`${h}-centered`]:!!p,[`${h}-wrap-rtl`]:o==="rtl"}),Ee=E!==null&&!N?s.createElement(ie,Object.assign({},e,{onOk:u,onCancel:f})):null,[_,q,$e]=ln(Q(e),Q(a),{closable:!0,closeIcon:s.createElement(W,{className:`${h}-close-icon`}),closeIconRender:F=>ce(h,F)}),je=an(`.${h}-content`),[Ie,Te]=Fe("Modal",j.zIndex);return Oe(s.createElement(Be,{form:!0,space:!0},s.createElement(Re.Provider,{value:Te},s.createElement(Ye,Object.assign({width:b},j,{zIndex:Ie,getContainer:y===void 0?l:y,prefixCls:h,rootClassName:I(V,r,Pe,A),footer:Ee,visible:d??g,mousePosition:(t=j.mousePosition)!==null&&t!==void 0?t:D,onClose:f,closable:_&&{disabled:$e,closeIcon:q},closeIcon:q,focusTriggerAfterClose:m,transitionName:L(M,"zoom",e.transitionName),maskTransitionName:L(M,"fade",e.maskTransitionName),className:I(V,i,a==null?void 0:a.className),style:Object.assign(Object.assign({},a==null?void 0:a.style),x),classNames:Object.assign(Object.assign(Object.assign({},a==null?void 0:a.classNames),O),{wrapper:I(he,O==null?void 0:O.wrapper)}),styles:Object.assign(Object.assign({},a==null?void 0:a.styles),P),panelRef:je}),N?s.createElement(nn,{active:!0,title:!1,paragraph:{rows:4},className:`${h}-body-skeleton`}):w))))},fn=e=>{const{componentCls:t,titleFontSize:l,titleLineHeight:n,modalConfirmIconSize:o,fontSize:a,lineHeight:f,modalTitleHeight:u,fontHeight:c,confirmBodyPadding:i}=e,r=`${t}-confirm`;return{[r]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${r}-body-wrapper`]:Object.assign({},Le()),[`&${t} ${t}-body`]:{padding:i},[`${r}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(c).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(u).sub(o).equal()).div(2).equal()}},[`${r}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS},[`${e.iconCls} + ${r}-paragraph`]:{maxWidth:`calc(100% - ${ze(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${r}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:l,lineHeight:n},[`${r}-content`]:{color:e.colorText,fontSize:a,lineHeight:f},[`${r}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${r}-error ${r}-body > ${e.iconCls}`]:{color:e.colorError},[`${r}-warning ${r}-body > ${e.iconCls},
        ${r}-confirm ${r}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${r}-info ${r}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${r}-success ${r}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},dn=Ae(["Modal","confirm"],e=>{const t=Je(e);return[fn(t)]},Ke,{order:-1e3});var mn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};function fe(e){const{prefixCls:t,icon:l,okText:n,cancelText:o,confirmPrefixCls:a,type:f,okCancel:u,footer:c,locale:i}=e,r=mn(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let d=l;if(!l&&l!==null)switch(f){case"info":d=s.createElement(Ve,null);break;case"success":d=s.createElement(He,null);break;case"error":d=s.createElement(We,null);break;default:d=s.createElement(De,null)}const C=u??f==="confirm",p=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[y]=H("Modal"),m=i||y,x=n||(C?m==null?void 0:m.okText:m==null?void 0:m.justOkText),g=o||(m==null?void 0:m.cancelText),b=Object.assign({autoFocusButton:p,cancelTextLocale:g,okTextLocale:x,mergedOkCancel:C},r),E=s.useMemo(()=>b,T(Object.values(b))),O=s.createElement(s.Fragment,null,s.createElement(X,null),s.createElement(G,null)),P=e.title!==void 0&&e.title!==null,w=`${a}-body`;return s.createElement("div",{className:`${a}-body-wrapper`},s.createElement("div",{className:I(w,{[`${w}-has-title`]:P})},d,s.createElement("div",{className:`${a}-paragraph`},P&&s.createElement("span",{className:`${a}-title`},e.title),s.createElement("div",{className:`${a}-content`},e.content))),c===void 0||typeof c=="function"?s.createElement(ae,{value:E},s.createElement("div",{className:`${a}-btns`},typeof c=="function"?c(O,{OkBtn:G,CancelBtn:X}):O)):c,s.createElement(dn,{prefixCls:t}))}const Cn=e=>{const{close:t,zIndex:l,afterClose:n,open:o,keyboard:a,centered:f,getContainer:u,maskStyle:c,direction:i,prefixCls:r,wrapClassName:d,rootPrefixCls:C,bodyStyle:p,closable:y=!1,closeIcon:m,modalRender:x,focusTriggerAfterClose:g,onConfirm:b,styles:E}=e,O=`${r}-confirm`,P=e.width||416,w=e.style||{},N=e.mask===void 0?!0:e.mask,j=e.maskClosable===void 0?!1:e.maskClosable,h=I(O,`${O}-${e.type}`,{[`${O}-rtl`]:i==="rtl"},e.className),[,M]=_e(),A=s.useMemo(()=>l!==void 0?l:M.zIndexPopupBase+qe,[l,M]);return s.createElement(ue,{prefixCls:r,className:h,wrapClassName:I({[`${O}-centered`]:!!e.centered},d),onCancel:()=>{t==null||t({triggerCancel:!0}),b==null||b(!1)},open:o,title:"",footer:null,transitionName:L(C||"","zoom",e.transitionName),maskTransitionName:L(C||"","fade",e.maskTransitionName),mask:N,maskClosable:j,style:w,styles:Object.assign({body:p,mask:c},E),width:P,zIndex:A,afterClose:n,keyboard:a,centered:f,getContainer:u,closable:y,closeIcon:m,modalRender:x,focusTriggerAfterClose:g},s.createElement(fe,Object.assign({},e,{confirmPrefixCls:O})))},de=e=>{const{rootPrefixCls:t,iconPrefixCls:l,direction:n,theme:o}=e;return s.createElement(le,{prefixCls:t,iconPrefixCls:l,direction:n,theme:o},s.createElement(Cn,Object.assign({},e)))},k=[];let me="";function Ce(){return me}const gn=e=>{var t,l;const{prefixCls:n,getContainer:o,direction:a}=e,f=te(),u=s.useContext(z),c=Ce()||u.getPrefixCls(),i=n||`${c}-modal`;let r=o;return r===!1&&(r=void 0),v.createElement(de,Object.assign({},e,{rootPrefixCls:c,prefixCls:i,iconPrefixCls:u.iconPrefixCls,theme:u.theme,direction:a??u.direction,locale:(l=(t=u.locale)===null||t===void 0?void 0:t.Modal)!==null&&l!==void 0?l:f,getContainer:r}))};function R(e){const t=Qe(),l=document.createDocumentFragment();let n=Object.assign(Object.assign({},e),{close:u,open:!0}),o;function a(){for(var i,r=arguments.length,d=new Array(r),C=0;C<r;C++)d[C]=arguments[C];if(d.some(m=>m==null?void 0:m.triggerCancel)){var y;(i=e.onCancel)===null||i===void 0||(y=i).call.apply(y,[e,()=>{}].concat(T(d.slice(1))))}for(let m=0;m<k.length;m++)if(k[m]===u){k.splice(m,1);break}Xe(l)}function f(i){clearTimeout(o),o=setTimeout(()=>{const r=t.getPrefixCls(void 0,Ce()),d=t.getIconPrefixCls(),C=t.getTheme(),p=v.createElement(gn,Object.assign({},i));Ge(v.createElement(le,{prefixCls:r,iconPrefixCls:d,theme:C},t.holderRender?t.holderRender(p):p),l)})}function u(){for(var i=arguments.length,r=new Array(i),d=0;d<i;d++)r[d]=arguments[d];n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),a.apply(this,r)}}),n.visible&&delete n.visible,f(n)}function c(i){typeof i=="function"?n=i(n):n=Object.assign(Object.assign({},n),i),f(n)}return f(n),k.push(u),{destroy:u,update:c}}function ge(e){return Object.assign(Object.assign({},e),{type:"warning"})}function be(e){return Object.assign(Object.assign({},e),{type:"info"})}function ve(e){return Object.assign(Object.assign({},e),{type:"success"})}function pe(e){return Object.assign(Object.assign({},e),{type:"error"})}function xe(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function bn(e){let{rootPrefixCls:t}=e;me=t}var vn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};const pn=(e,t)=>{var l,{afterClose:n,config:o}=e,a=vn(e,["afterClose","config"]);const[f,u]=s.useState(!0),[c,i]=s.useState(o),{direction:r,getPrefixCls:d}=s.useContext(z),C=d("modal"),p=d(),y=()=>{var b;n(),(b=c.afterClose)===null||b===void 0||b.call(c)},m=function(){var b;u(!1);for(var E=arguments.length,O=new Array(E),P=0;P<E;P++)O[P]=arguments[P];if(O.some(j=>j==null?void 0:j.triggerCancel)){var N;(b=c.onCancel)===null||b===void 0||(N=b).call.apply(N,[c,()=>{}].concat(T(O.slice(1))))}};s.useImperativeHandle(t,()=>({destroy:m,update:b=>{i(E=>Object.assign(Object.assign({},E),b))}}));const x=(l=c.okCancel)!==null&&l!==void 0?l:c.type==="confirm",[g]=H("Modal",Ze.Modal);return s.createElement(de,Object.assign({prefixCls:C,rootPrefixCls:p},c,{close:m,open:f,afterClose:y,okText:c.okText||(x?g==null?void 0:g.okText:g==null?void 0:g.justOkText),direction:c.direction||r,cancelText:c.cancelText||(g==null?void 0:g.cancelText)},a))},xn=s.forwardRef(pn);let ee=0;const yn=s.memo(s.forwardRef((e,t)=>{const[l,n]=tn();return s.useImperativeHandle(t,()=>({patchElement:n}),[]),s.createElement(s.Fragment,null,l)}));function On(){const e=s.useRef(null),[t,l]=s.useState([]);s.useEffect(()=>{t.length&&(T(t).forEach(f=>{f()}),l([]))},[t]);const n=s.useCallback(a=>function(u){var c;ee+=1;const i=s.createRef();let r;const d=new Promise(x=>{r=x});let C=!1,p;const y=s.createElement(xn,{key:`modal-${ee}`,config:a(u),ref:i,afterClose:()=>{p==null||p()},isSilent:()=>C,onConfirm:x=>{r(x)}});return p=(c=e.current)===null||c===void 0?void 0:c.patchElement(y),p&&k.push(p),{destroy:()=>{function x(){var g;(g=i.current)===null||g===void 0||g.destroy()}i.current?x():l(g=>[].concat(T(g),[x]))},update:x=>{function g(){var b;(b=i.current)===null||b===void 0||b.update(x)}i.current?g():l(b=>[].concat(T(b),[g]))},then:x=>(C=!0,d.then(x))}},[]);return[s.useMemo(()=>({info:n(be),success:n(ve),error:n(pe),warning:n(ge),confirm:n(xe)}),[]),s.createElement(yn,{key:"modal-holder",ref:e})]}var Pn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};const hn=e=>{const{prefixCls:t,className:l,closeIcon:n,closable:o,type:a,title:f,children:u,footer:c}=e,i=Pn(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:r}=s.useContext(z),d=r(),C=t||r("modal"),p=oe(d),[y,m,x]=re(C,p),g=`${C}-confirm`;let b={};return a?b={closable:o??!1,title:"",footer:"",children:s.createElement(fe,Object.assign({},e,{prefixCls:C,confirmPrefixCls:g,rootPrefixCls:d,content:u}))}:b={closable:o??!0,title:f,footer:c!==null&&s.createElement(ie,Object.assign({},e)),children:u},y(s.createElement(en,Object.assign({prefixCls:C,className:I(m,`${C}-pure-panel`,a&&g,a&&`${g}-${a}`,l,x,p)},i,{closeIcon:ce(C,n),closable:o},b)))},En=Ue(hn);function ye(e){return R(ge(e))}const $=ue;$.useModal=On;$.info=function(t){return R(be(t))};$.success=function(t){return R(ve(t))};$.error=function(t){return R(pe(t))};$.warning=ye;$.warn=ye;$.confirm=function(t){return R(xe(t))};$.destroyAll=function(){for(;k.length;){const t=k.pop();t&&t()}};$.config=bn;$._InternalPanelDoNotUseOrYouWillBeFired=En;export{$ as M};
