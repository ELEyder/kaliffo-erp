import{j as e,r as a,L as E}from"./index-DnZSuapv.js";import{a as F,d as D,u as A,g as N}from"./Tienda-DchRzPO6.js";import{p as R,b as q,c as k}from"./Tools-BXmtYGau.js";import{F as r}from"./index-eEjfzd7p.js";import{M as x}from"./index-CQoRxuqN.js";import{I as d}from"./index-CfhjOVlK.js";import{F as O}from"./index-BjGP48R2.js";import{C as g}from"./index-BLOaBrrf.js";import{T as p}from"./index-OoAlQgr1.js";import{R as v}from"./EditOutlined-Bm2pbz4p.js";import{R as M}from"./EyeOutlined-Dgph3YEA.js";import{P}from"./index-BRImeMB9.js";import{R as S}from"./DeleteOutlined-DpkSjotH.js";import{F as L}from"./index-CRStyn0e.js";import{D as T}from"./index-DnZuPcqL.js";import"./apiClient-DNqqoRi2.js";import"./ContextIsolator-X51Zuf7C.js";import"./useSize-DL9WfM8p.js";import"./button-DxAvYtf7.js";import"./EllipsisOutlined-BC2kcC9O.js";import"./useMergedState-xnIRtK6W.js";import"./row-Bgu54Vpq.js";import"./responsiveObserver-P31G7zPC.js";import"./ActionButton-HZPJWirw.js";import"./Skeleton-C8RXkADb.js";import"./TextArea-D6coABml.js";import"./gapSize-U1swVQyS.js";import"./index-rbW2pF-2.js";import"./scrollTo-DvbmuEp_.js";const V=({openModal:i,closeModal:s,reload:m})=>{const[o]=r.useForm();return e.jsx(x,{getContainer:!1,title:"NUEVA TIENDA",styles:{header:{textAlign:"center"}},open:i,onCancel:s,okText:"Añadir",onOk:o.submit,centered:!0,width:500,children:e.jsxs(r,{style:{maxWidth:600,margin:"0 auto"},size:"large",form:o,layout:"vertical",labelAlign:"center",id:"formulariocrear",onFinish:async t=>{await F(t),o.resetFields(),s(),m()},children:[e.jsx(r.Item,{style:{marginTop:20},name:"tienda",label:"Nombre de la Tienda",rules:[{required:!0,message:"Nombre requerido"}],children:e.jsx(d,{})}),e.jsx(r.Item,{style:{marginTop:20},name:"direccion",label:"Direccion de la Tienda",rules:[{required:!0,message:"Direccion requerida"}],children:e.jsx(d,{})}),e.jsx(r.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Telefono Requerido"},{pattern:/^[0-9]{9}$/,message:"Debe ser un número de exactamente 9 dígitos."}],children:e.jsx(d,{maxLength:9,onPaste:R,onKeyDown:q,onInput:k,showCount:!0})})]})})},U=({openModal:i,closeModal:s,id:m,reload:o})=>{const[t]=r.useForm();return e.jsx(x,{forceRender:!0,getContainer:!1,title:"Eliminar Producto",open:i,onCancel:s,style:{textTransform:"uppercase"},onOk:t.submit,okText:"Eliminar",okButtonProps:{style:{backgroundColor:"red",borderColor:"red"}},centered:!0,width:500,children:e.jsxs(r,{style:{maxWidth:500,margin:"0 auto"},size:"large",form:t,layout:"vertical",labelAlign:"center",id:"formularioeditar",onFinish:async n=>{await D(m),s(),o()},children:[e.jsx(r.Item,{name:"username",style:{display:"none"},"aria-hidden":"true",children:e.jsx(d,{type:"text",autoComplete:"username"})}),e.jsx(r.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Contraseña Requerida"}],children:e.jsx(d,{type:"password",autoComplete:"new-password"})})]})})},_=({openModal:i,closeModal:s,id:m,reload:o,values:t})=>{const[n]=r.useForm();return a.useEffect(()=>{n.setFieldsValue({nombre:t.tienda,direccion:t.direccion,telefono:t.telefono})},[t]),e.jsx(x,{forceRender:!0,getContainer:!1,title:"EDITAR TIENDA",style:{header:{textAlign:"center"}},open:i,onCancel:s,okText:"Confirmar",onOk:n.submit,centered:!0,width:400,children:e.jsxs(r,{style:{margin:"0 auto"},size:"large",form:n,labelAlign:"center",id:"formulariocrear",layout:"vertical",onFinish:async c=>{await A(m,c),o(),s(!1)},children:[e.jsx(r.Item,{name:"nombre",label:"Tienda",rules:[{required:!0,message:"Nombre de la tienda requerida"}],children:e.jsx(d,{})}),e.jsx(r.Item,{name:"direccion",label:"Direccion",rules:[{type:"text",required:!0,message:"Direccion requerida"}],children:e.jsx(d,{})}),e.jsx(r.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Telefono requerido"}],children:e.jsx(d,{maxLength:9})})]})})},{Meta:$}=g,z=()=>{const[i,s]=a.useState(0),[m,o]=a.useState([]),[t,n]=a.useState(!0),[c,f]=a.useState(!1),[y,j]=a.useState(!1),[b,h]=a.useState(!1),[I,C]=a.useState([]);return a.useEffect(()=>{N(o)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(O,{wrap:!0,gap:"middle",justify:"space-evenly",gutter:20,children:m.map((l,w)=>e.jsx(g,{title:l.tienda,style:{overflow:"hidden"},actions:[e.jsx(p,{title:"Editar Tienda",className:"card-update",onClick:u=>{u.stopPropagation(),s(l.tienda_id),C(l),j(!0)},children:e.jsx("div",{children:e.jsx(v,{style:{color:"white"}})})}),e.jsx(p,{title:"Ver Detalles",className:"card-view",children:e.jsx(E,{to:`/tiendas/${l.tienda_id}`,children:e.jsx(M,{style:{color:"white"}},"view")})}),e.jsx(P,{title:"¿ELIMINAR?",description:"¿Está seguro de eliminar esta tienda?",okText:"Confirmar",placement:"bottom",onConfirm:u=>{u.stopPropagation(),s(l.tienda_id),h(!0)},cancelText:"Cancelar",children:e.jsx(p,{title:"Eliminar Tienda",className:"card-delete",children:e.jsx("div",{children:e.jsx(S,{style:{color:"white"}},"delete")})})})],children:e.jsx($,{title:e.jsxs("p",{children:["TELEFONO: ",l.telefono]}),description:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["STOCK: ",l.total_stock??"0"]}),e.jsxs("p",{children:["DIRECCION: ",l.direccion]})]})})},w))}),e.jsx(L,{tooltip:"Añadir",onClick:()=>f(!0)}),e.jsx(V,{openModal:c,closeModal:()=>f(!1),reload:()=>n(!t)}),e.jsx(_,{openModal:y,closeModal:()=>j(!1),id:i,reload:()=>n(!t),values:I}),e.jsx(U,{openModal:b,closeModal:()=>h(!1),id:i,reload:()=>n(!t)})]})},ge=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{style:{textTransform:"uppercase"},children:"TIENDAS"}),e.jsx(z,{}),e.jsx(T,{})]});export{ge as default};
