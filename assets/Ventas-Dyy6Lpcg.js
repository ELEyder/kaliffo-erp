import{a as p}from"./ApiClient-CULQ52Ii.js";const s=["Efectivo","Yape","Transferencia"],d=["Por Mayor","Por Menor"],g=["Almacen","Tienda 1","Tienda 2"],f=async(n,t)=>{try{const{data:o}=await p.get(`/venta?tipoComprobante=${n==="boleta"?1:2}`);let r=0;const c=o.map(e=>{r+=1;const a=new Date(e.fecha);return{...e,tipoPago:s[e.tipoPago-1],tipoVenta:d[e.tipoVenta-1],tienda:g[e.tienda_id-1],fecha:a.toLocaleDateString("es-ES"),id:r}});t(c)}catch(o){console.error("Error al obtener las ventas:",o),t([])}},h=async(n,t,o,r,c,e,a)=>{let i={tipo:n,cantidad:r,total_b:c,total_igv:e,total_N:a,tipoPago:t.metodo,...n==="boleta"?{dni:t.dni}:{ruc:t.ruc},direccion:t.direccion,nombre:t.nombre,detalle:o};try{await p.post("/venta/create",i)}catch(m){console.log(m)}},y=async(n,t)=>{try{const{data:o,status:r}=await p.get(`/venta/${n}`);let c=0;const e=o.detalles.map(a=>{c+=1;const i=new Date(a.fecha);return{...a,tipoPago:s[a.tipoPago-1],precioTotal:a.cantidad*a.precioUnitario,tipoVenta:d[a.tipoVenta-1],fecha:i.toLocaleDateString("es-ES"),id:c}});o.tienda=g[o.tienda_id-1],o.tipoPago=s[o.tipoPago-1],o.detalles=e,t(r!=500?o:[])}catch(o){console.error(`Error al obtener la venta con ID ${n}:`,o),t([])}};export{f as a,h as c,y as g};
