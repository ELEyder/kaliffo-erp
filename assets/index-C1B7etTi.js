import{r as n,j as t,c as f}from"./index-Bunp8VmX.js";import{D as T,a as S}from"./index-AKhf147z.js";import{A as u}from"./ApiClient-CwTlTqVt.js";import{u as g}from"./useProducto-BhalF6G5.js";import{D as k}from"./Table-azPtpNCw.js";import{T as m}from"./index-1LFFKiN5.js";import{D as x}from"./index-B_8r9Za8.js";import{T as h}from"./index-B00MmLCC.js";import"./index-BD1DMr01.js";import"./Skeleton-DQ75DhjH.js";import"./index-BkpqA939.js";import"./useBreakpoint-RvYD15SG.js";import"./index-DokvF9RQ.js";import"./styleChecker-BYYi54FN.js";import"./index-BJT4Palo.js";import"./gapSize-U1swVQyS.js";import"./useApiRequest-GF_nNgjO.js";import"./index-CWZRQiGq.js";import"./Dropdown-CAg5ab4S.js";import"./scrollTo-CK3_7m1G.js";const y=e=>{const[a,r]=n.useState([]),[l,s]=n.useState(!1),[i,d]=n.useState(null),c=async()=>{s(!0);try{const o=await u.get(`producto/detalle/${e}?tipo=colores`);r(o.data)}catch(o){d(o)}finally{s(!1)}};return n.useEffect(()=>{(async()=>{await c()})()},[]),{colores:a,loading:l,error:i,getColores:c}},E=e=>{const[a,r]=n.useState([]),[l,s]=n.useState(!1),[i,d]=n.useState(null),c=async()=>{s(!0);try{const o=await u.get(`producto/detalle/${e}?tipo=tallas`);r(o.data)}catch(o){d(o)}finally{s(!1)}};return n.useEffect(()=>{(async()=>{await c()})()},[]),{tallas:a,loading:l,error:i,getTallas:c}},C=e=>{const[a,r]=n.useState([]),[l,s]=n.useState(!1),[i,d]=n.useState(null),c=async()=>{s(!0);try{const o=await u.get(`producto/detalle/${e}?tipo=tiendas`);r(o.data)}catch(o){d(o)}finally{s(!1)}};return n.useEffect(()=>{(async()=>{await c()})()},[]),{tiendas:a,loading:l,error:i,getTiendas:c}},j=({id:e})=>{const{colores:a,loading:r}=y(e);let l=[{title:"Colores",dataIndex:"color"},{title:"Stock",dataIndex:"stock",onCell:s=>({style:{background:s.stock>=50?"green":s.stock<=20?"#f54242":"#FCFB77",color:s.stock<=20||s.stock>=50?"white":"black",padding:"10px"}})}];return t.jsx(t.Fragment,{children:t.jsx(m,{columnas:l,rowKey:"color_id",dataSource:a,loading:r})})},b=({id:e})=>{const{tallas:a,loading:r}=E(e);let l=[{title:"Tallas",dataIndex:"tallas"},{title:"Stock",dataIndex:"stock"}];return t.jsx(t.Fragment,{children:t.jsx(m,{columnas:l,rowKey:"talla_id",dataSource:a,loading:r})})},P=({id:e})=>{const{tiendas:a,loading:r}=C(e);let l=[{title:"Tienda",dataIndex:"tienda"},{title:"Stock",dataIndex:"stock"}];return t.jsx(t.Fragment,{children:t.jsx(m,{columnas:l,rowKey:"tienda_id",dataSource:a,loading:r})})},w=({id:e})=>{const{producto:a,loading:r,getProducto:l}=g();n.useEffect(()=>{l()},[e]);const{nombre:s,stockTotal:i,precioBase:d,descuento:c,cantidad_colores:o}=a,p=[{key:"1",label:"Histórico"},{key:"2",label:"Último Mes"}];return t.jsx(T,{title:s,image:`./img/productos/${e}.png`,loading:r,list:[{title:"STOCK TOTAL",value:i},{title:"PRECIO BASE",value:"S/"+d},{title:"DESCUENTO",value:c+"%"},{title:"COLORES",value:o}],children:t.jsx(k.Button,{menu:{items:p,onClick:()=>alert("Próximamente")},block:!0,size:"large",style:{fontWeight:"bold"},children:"OBTENER REPORTE"})})},G=()=>{const{id:e}=f(),a=[{key:"1",label:"Stock por tienda",children:t.jsx(P,{id:e})},{key:"2",label:"Stock por Tallas",children:t.jsx(b,{id:e})},{key:"3",label:"Stock por Colores",children:t.jsx(j,{id:e})}];return t.jsxs(t.Fragment,{children:[t.jsx(x,{children:"DETALLES DEL PRODUCTO"}),t.jsxs(S,{children:[t.jsx(w,{id:e}),t.jsx(h,{items:a})]})]})};export{G as default};
