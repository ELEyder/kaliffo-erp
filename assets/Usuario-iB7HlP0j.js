import{d as c,c as d}from"./moment-C0VIUrQK.js";import{a as n}from"./ApiClient-DPIxiZ71.js";c.extend(d);const s={ventas:1,talleres:2,miscelaneos:3,costureros:4},b=async(o,a)=>{const r=s[o];let e={nombre:a.nombre,ap_paterno:a.ap_paterno,ap_materno:a.ap_materno,fecha_nacimiento:a.fecha_nacimiento.format("YYYY-MM-DD"),dni:a.dni,telefono:a.telefono,sueldo:a.sueldo,rol:r};r===1&&(e={...e,tienda_id:a.tienda_id});try{await n.post("/Trabajador/create",e)}catch{console.log("Error al aÃ±adir el Trabajador")}},p=async(o,a)=>{try{const r=await n.get(`/trabajador/${o}`);a(r.data)}catch(r){console.log("Error al obtener el Trabajador",r)}},j=async(o,a,r)=>{try{await n.put(`/Trabajador/update/${o}`,a)}catch(e){console.error("Error al actualizar el Trabajador",e)}},T=async(o,a)=>{try{const e=(await n.get(`/trabajador?rol=${s[o]}`)).data;e.forEach(t=>{typeof t=="object"&&t!==null?t.tienda_id===null&&(t.tienda_id=0,t.tienda="Sin asignar"):console.warn("Elemento no es un objeto:",t)}),a(e)}catch(r){console.log("Error al obtener los Trabajadors",r)}},m=async(o,a)=>{try{const r=await n.get(`/Trabajador?rol=1&antiTienda_id=${o}`);a(r.data)}catch(r){console.log("Error al obtener los Trabajadores",r)}},g=async(o,a)=>{try{await n.put(`/Trabajador/update/${a.personal}`,{tienda_id:o}),console.log("Trabajador actualizado exitosamente")}catch(r){console.log("Error al actualizar Trabajador",r)}};export{b as a,m as b,j as c,T as d,p as g,g as u};
