import{a as s}from"./ApiClient-CULQ52Ii.js";const l=async(a,r)=>{var t;try{const e=await s.get(`/corte/lote/${a}`,{withCredentials:!0});r(e.data||[])}catch(e){((t=e.response)==null?void 0:t.status)===404?r([]):(console.error("Error al obtener el corte:",e),r([]))}},n=async(a,r)=>{var t;try{const e=await s.get(`/corte/lote/${a}?tipo=diferido`,{withCredentials:!0});r(e.data||[])}catch(e){((t=e.response)==null?void 0:t.status)===404?r([]):(console.error("Error al obtener el corte:",e),r([]))}},d=async(a,r)=>{r.detalles=r.detalles.map(e=>({cantidad_enviada:e.cantidad_enviada,talla:e.talla,taller_id:e.taller_id??null}));try{var t=await s.post(`/corte/create/array/${a}`,r)}catch(e){console.error("Error al aÃ±adir el corte:",e)}},u=async(a,r,t)=>{try{const c=(await s.get(`/corte/lote/${a}`,{withCredentials:!0})).data.map(o=>({detallesCorte:`Taller Asignado: ${o.taller} | Producto: ${o.producto} | Talla: ${o.talla}`,id:o.corte_id,cantidad_recibida:o.cantidad_enviada}));r(c),t.setFieldsValue({items:c})}catch(e){console.error("Error al obtener el corte:",e),r([]),t.setFieldsValue({items:[]})}},p=async(a,r,t)=>{try{const c=(await s.get(`/corte/lote/${a}`,{withCredentials:!0})).data.map(o=>({datos_corte:`Producto: ${o.producto} | Cantidad: ${o.cantidad_enviada} | Talla: ${o.talla}`,corte_id:o.corte_id,taller_id:o.taller_id}));r(c.length>0?c:[]),t.setFieldsValue({items:c.length>0?c:[]})}catch(e){console.error("Error al obtener el corte:",e),r([]),t.setFieldsValue({items:[]})}},_=async(a,r)=>{if(r===1)try{await s.put(`/corte/desactivar/${a}`)}catch(t){console.error("Error al eliminar el corte:",t)}},h=async(a,r=null)=>{try{r||(r=(await s.get(`/corte/lote/${a}`,{withCredentials:!0})).data);const t=r.map(e=>({corte_id:e.id||e.corte_id,cantidad_recibida:e.cantidad_recibida,taller_id:e.taller_id}));await s.put(`/corte/sgte/lote/${a}`,{detalles:t},{withCredentials:!0})}catch(t){console.error("Error al cambiar el estado del corte:",t)}};export{p as a,d as b,h as c,l as d,_ as e,n as f,u as g};
