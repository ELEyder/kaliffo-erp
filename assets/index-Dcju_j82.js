import{e as y,r as n,j as t}from"./index-DnZSuapv.js";import{b as w,c as F}from"./Producto-Cd6i44JA.js";import{C as I}from"./index-BLOaBrrf.js";import{L as k}from"./index-BCdAvJOG.js";import{D as g}from"./index-DnZuPcqL.js";import{B as d}from"./button-DxAvYtf7.js";import{M}from"./index-CQoRxuqN.js";import{F as E}from"./Table-UylViyS0.js";import{P as O,T as P}from"./ProductoDetalleModal-BxluOd1X.js";import{T as x}from"./Tabla-BwLH4X_R.js";import{F as v}from"./index-BjGP48R2.js";import{T as B}from"./index-rbW2pF-2.js";import"./apiClient-DNqqoRi2.js";import"./useSize-DL9WfM8p.js";import"./Skeleton-C8RXkADb.js";import"./responsiveObserver-P31G7zPC.js";import"./useMergedState-xnIRtK6W.js";import"./index-CAw0ik1A.js";import"./EllipsisOutlined-BC2kcC9O.js";import"./TextArea-D6coABml.js";import"./ContextIsolator-X51Zuf7C.js";import"./CheckOutlined-CxFn5oU1.js";import"./DownOutlined-DfCZxesi.js";import"./useBreakpoint-CHVb293n.js";import"./row-Bgu54Vpq.js";import"./ActionButton-HZPJWirw.js";import"./index-OoAlQgr1.js";import"./styleChecker-BPMTEHVB.js";import"./addEventListener-BGVn8IVC.js";import"./index-nq-gG-E2.js";import"./LeftOutlined-DUJeaJ5E.js";import"./index-8gkIUhhz.js";import"./index-BsZC5oSy.js";import"./gapSize-U1swVQyS.js";import"./scrollTo-DvbmuEp_.js";import"./index-CfhjOVlK.js";import"./EyeOutlined-Dgph3YEA.js";const R=()=>{const{id:e}=y(),[r,l]=n.useState([]);n.useEffect(()=>{w(e,l)},[e]);const o=`/img/productos/${r.producto_id}.png`,a=i=>{i.target.src="/img/productos/generic.png"};return t.jsx(t.Fragment,{children:r&&t.jsxs(I,{style:{maxWidth:300,textAlign:"center",margin:"auto"},title:r.nombre,children:[t.jsx("img",{alt:"example",src:o,onError:a,style:{width:"100%",height:"auto"}}),t.jsx(k,{itemLayout:"horizontal",dataSource:[{title:"STOCK TOTAL",value:r.stockTotal},{title:"PRECIO",value:r.precioBase},{title:"COLORES",value:r.cantidad_colores}],renderItem:i=>t.jsxs(k.Item,{children:[t.jsx("b",{children:i.title})," ",t.jsx("span",{style:{float:"right"},children:i.value})," "]})}),t.jsx(g,{})," ",t.jsxs(d,{type:"primary",block:!0,style:{fontWeight:"bold"},children:[" ","OBTENER REPORTE"]})]})})},_=({openModal:e,closeModal:r,id:l,talla:o})=>{const[a,i]=n.useState([]);n.useEffect(()=>{o&&F(l,o)},[o]);const m=[{title:"Color",key:"nombre",dataIndex:"nombre",align:"center",render:(s,p)=>t.jsx(t.Fragment,{children:p.nombre})},{title:"Stock",key:"stock",align:"center",dataIndex:"stock",defaultSortOrder:"ascend",onCell:s=>({style:{background:s.stock>=50?"green":s.stock<=20?"#f54242":"#FCFB77",color:s.stock<=20||s.stock>=50?"white":"black",padding:"10px"}})}];return t.jsx(t.Fragment,{children:t.jsx(M,{forceRender:!0,getContainer:!1,styles:{header:{textAlign:"center"}},title:"COLORES",open:e,onCancel:()=>{r(!1)},centered:!0,width:500,footer:t.jsx(d,{onClick:()=>r(!1),children:"Cerrar"}),children:t.jsx(E,{scroll:{x:"min-content"},columns:m,pagination:{pageSize:4},bordered:!0,dataSource:a,rowKey:s=>s.color_id})})})},K=(e,r,l)=>[{title:"Tienda",dataIndex:"tienda",key:"tienda",align:"center"},{title:"Stock Total",dataIndex:"STOCK",key:"STOCK",align:"center",onCell:a=>({style:{background:a.stock>=50?"green":a.stock<=20?"#f54242":"#FCFB77",color:a.stock<=20||a.stock>=50?"white":"black",padding:"10px"}})},{title:"Ver más",dataIndex:"tienda_id",key:"verMas",align:"center",render:(a,i)=>t.jsx(d,{type:"primary",style:{width:"55px"},block:!0,onClick:()=>{r(a),e("tiendaD",!0)},children:"+"})}],$=e=>`producto/detalle/${e}?tipo=tiendas`,L=(e,r)=>[{title:"Talla",dataIndex:"talla",key:"talla",align:"center"},{title:"Cantidad",dataIndex:"cantidad",key:"cantidad",align:"center",onCell:o=>({style:{background:o.stock>=50?"green":o.stock<=20?"#f54242":"#FCFB77",color:o.stock<=20||o.stock>=50?"white":"black",padding:"10px"}})},{title:"Ver más",key:"verMas",align:"center",render:(o,a)=>t.jsx(d,{type:"primary",style:{width:"55px"},block:!0,onClick:()=>{r(a.talla),e("tallaD",!0)},children:"+"})}],A=e=>`producto/detalle/${e}?tipo=tallas`,V=(e,r)=>[{title:"Color",dataIndex:"color_nombre",key:"color_nombre",align:"center"},{title:"Stock",dataIndex:"stock",key:"stock",align:"center",sorter:{compare:(o,a)=>o.stock-a.stock,multiple:2},onCell:o=>({style:{background:o.stock>=50?"green":o.stock<=20?"#f54242":"#FCFB77",color:o.stock<=20||o.stock>=50?"white":"black",padding:"10px"}})},{title:"Ver más",key:"verMas",align:"center",render:(o,a)=>t.jsx(d,{type:"primary",style:{width:"55px"},block:!0,onClick:()=>{r(a.productoDetalle_id),e("colorD",!0)},children:"+"})}],U=e=>`producto/detalle/${e}?tipo=colores`,wt=()=>{const{id:e}=y(),[r,l]=n.useState(!0),[o,a]=n.useState(0),[i,m]=n.useState(0),[s,p]=n.useState(0),[u,f]=n.useState({tiendaD:!1,tallaD:!1,colorD:!1}),c=(T,D)=>{f(S=>({...S,[T]:D}))},h=K(c,a),C=L(c,m),j=V(c,p),b=[{key:"1",label:"Tiendas",children:t.jsx(x,{columnas:h,rowKey:"tienda_id",url:$(e),reload:()=>l(!r)})},{key:"2",label:"Tallas",children:t.jsx(x,{columnas:C,rowKey:"trabajador_id",url:A(e),reload:()=>l(!r)})},{key:"3",label:"Colores",children:t.jsx(x,{columnas:j,rowKey:"codigo",url:U(e),reload:()=>l(!r)})}];return t.jsxs(t.Fragment,{children:[t.jsx(g,{style:{textTransform:"uppercase"},children:"Detalles del Producto"}),t.jsxs(v,{wrap:!0,gap:"large",justify:"space-evenly",align:"flex-start",style:{width:"100%",maxWidth:"1200px",margin:"0 auto",padding:"1rem"},children:[t.jsx(R,{}),t.jsx(B,{defaultActiveKey:"1",items:b})]}),t.jsx(g,{}),t.jsx(O,{openModal:u.tiendaD,closeModal:()=>c("tiendaD",!1),id:o,idp:e}),t.jsx(_,{openModal:u.tallaD,closeModal:()=>c("tallaD",!1),id:e,talla:i}),t.jsx(P,{openModal:u.colorD,closeModal:()=>c("colorD",!1),idD:s})]})};export{wt as default};
