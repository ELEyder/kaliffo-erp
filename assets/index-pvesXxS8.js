import{F as T,j as e,D as x,r as p,B as f}from"./index-Bunp8VmX.js";import"./ApiClient-CwTlTqVt.js";import{u}from"./useTienda-C_tg50F7.js";import{u as F}from"./useTiendas-DooPxEv9.js";import{T as g}from"./index-1LFFKiN5.js";import{D as j}from"./index-DGSKjoIJ.js";import{F as h}from"./index-qnTMOKQ7.js";import{F as D}from"./index-BJT4Palo.js";import{P as w}from"./index-BYkL8nB6.js";import{D as I}from"./index-B_8r9Za8.js";import"./useApiRequest-GF_nNgjO.js";import"./Table-azPtpNCw.js";import"./styleChecker-BYYi54FN.js";import"./index-CWZRQiGq.js";import"./Dropdown-CAg5ab4S.js";import"./gapSize-U1swVQyS.js";import"./scrollTo-CK3_7m1G.js";import"./useBreakpoint-RvYD15SG.js";import"./index-DCZRlB0p.js";import"./ActionButton-DynUVMgy.js";import"./index-BkpqA939.js";import"./Skeleton-DQ75DhjH.js";const k=({openModal:s,closeModal:o,onAdded:t})=>{const[r]=T.useForm(),{addTienda:n}=u(t),l=[{type:"text",name:"tienda",label:"Nombre de la Tienda"},{type:"text",name:"direccion",label:"Dirección de la Tienda"},{type:"number",name:"telefono",label:"Teléfono",max:9}],d=async c=>{const a=await n(c);console.log(a),a&&o()};return e.jsx(j,{title:"Añadir Tienda",isOpen:s,onClose:o,onOk:r.submit,children:e.jsx(x,{form:r,onFinish:d,rows:l})})},C=({openModal:s,closeModal:o,data:t,onUpdated:r})=>{const[n]=T.useForm(),{updateTienda:l}=u(r);p.useEffect(()=>{n.setFieldsValue({nombre:t.tienda,direccion:t.direccion,telefono:t.telefono})},[s]);const d=[{type:"text",name:"nombre",label:"Tienda"},{type:"text",name:"direccion",label:"Dirección"},{type:"number",name:"telefono",label:"Teléfono",max:9}],c=async a=>{await l(t.tienda_id,a),o(!1)};return e.jsx(j,{title:"Actualizar Tienda",isOpen:s,onClose:o,onOk:n.submit,children:e.jsx(x,{form:n,onFinish:c,rows:d})})},E=()=>{const{tiendas:s,loading:o,getTiendas:t}=F(),{deleteTienda:r}=u(t),[n,l]=p.useState({}),[d,c]=p.useState({updT:!1,addT:!1,addI:!1}),a=(m,i)=>{c(y=>({...y,[m]:i}))};let b=[{title:"Tienda",dataIndex:"tienda"},{title:"Teléfono",dataIndex:"telefono"},{title:"Stock",dataIndex:"stock"},{title:"Usuarios",dataIndex:"usuarios"},{title:"Dirección",dataIndex:"direccion"},{title:"Opciones",render:m=>e.jsxs(D,{gap:"small",justify:"center",align:"middle",wrap:"wrap",children:[e.jsx(f,{type:"primary",onClick:i=>{i.stopPropagation(),l(m),a("updT",!0)},children:"Editar"}),e.jsx(w,{title:"¿ELIMINAR?",description:"¿Estás seguro de eliminar este usuario?",okText:"Confirmar",cancelText:"Cancelar",onConfirm:async i=>{i.stopPropagation(),await r(m.tienda_id)},children:e.jsx(f,{type:"primary",danger:!0,onClick:i=>i.stopPropagation(),children:"Eliminar"})})]})}];return e.jsxs(e.Fragment,{children:[e.jsx(g,{columnas:b,rowKey:"tienda_id",dataSource:s,loading:o}),e.jsx(h,{onClick:()=>a("addT",!0)}),e.jsx(C,{openModal:d.updT,closeModal:()=>a("updT",!1),data:n,onUpdated:t}),e.jsx(k,{openModal:d.addT,closeModal:()=>a("addT",!1),onAdded:t})]})},Y=()=>e.jsxs(e.Fragment,{children:[e.jsx(I,{children:"TIENDAS"}),e.jsx(E,{})]});export{Y as default};
