import{r as i,j as e}from"./index-VOe2vgqy.js";import{c as b}from"./Usuario-iB7HlP0j.js";import{d as x,c as I}from"./moment-C0VIUrQK.js";import{g as _}from"./Tienda-DnH4FuDy.js";import{p as u,b as c,c as p}from"./Tools-BXmtYGau.js";import{F as r}from"./index-CC7smcAL.js";import{M as y}from"./index-Bx1_JYha.js";import{I as a}from"./index-DN4pQfum.js";import{R as l,C as t}from"./row-B9VIZwhG.js";import{D as q}from"./index-RW91wgR1.js";import{S as A}from"./index-MILUAy1A.js";x.extend(I);const v=({openModal:m,closeModal:d,tipoTrabajador:j,reload:h,data:n})=>{const[o]=r.useForm(),[f,g]=i.useState([]);return i.useEffect(()=>{o.setFieldsValue({nombre:n.nombre,ap_paterno:n.ap_paterno,ap_materno:n.ap_materno,telefono:n.telefono,dni:n.dni,fecha_nacimiento:x(n.fecha_nacimiento),tienda_id:n.tienda_id})},[m]),i.useEffect(()=>{_(g)},[]),e.jsx(y,{forceRender:!0,getContainer:!1,title:"EDITAR TRABAJADOR",styles:{header:{textAlign:"center"}},open:m,onCancel:d,okText:"Guardar",onOk:o.submit,centered:!0,width:500,children:e.jsxs(r,{style:{maxWidth:500,margin:"0 auto"},size:"large",form:o,layout:"vertical",labelAlign:"center",onFinish:async s=>{await b(n.trabajador_id,s),h(),d(!1)},children:[e.jsx(r.Item,{style:{marginTop:20},name:"nombre",label:"Nombres",rules:[{required:!0,message:"Nombres requeridos"}],children:e.jsx(a,{})}),e.jsxs(l,{gutter:[16,16],children:[e.jsx(t,{span:12,children:e.jsx(r.Item,{name:"ap_paterno",label:"Apellido Paterno",rules:[{required:!0,message:"Apellido Paterno Requerido"}],children:e.jsx(a,{})})}),e.jsx(t,{span:12,children:e.jsx(r.Item,{name:"ap_materno",label:"Apellido Materno",rules:[{required:!0,message:"Apellido Materno Requerido"}],children:e.jsx(a,{})})})]}),e.jsxs(l,{gutter:[16,16],children:[e.jsx(t,{span:12,children:e.jsx(r.Item,{label:"Fecha Nacimiento",name:"fecha_nacimiento",rules:[{required:!0,message:"Fecha Nacimiento requerido"}],children:e.jsx(q,{format:"DD-MM-YYYY"})})}),e.jsx(t,{span:12,children:e.jsx(r.Item,{name:"telefono",label:"Teléfono",rules:[{required:!0,message:"Teléfono Requerido"}],children:e.jsx(a,{showCount:!0,maxLength:9,onPaste:u,onKeyDown:c,onInput:p})})})]}),e.jsxs(l,{gutter:[16,16],children:[e.jsx(t,{span:10,children:e.jsx(r.Item,{name:"dni",label:"DNI",rules:[{required:!0,message:"DNI requerido"}],children:e.jsx(a,{maxLength:8,onPaste:u,onKeyDown:c,onInput:p,style:{textAlign:"center"},showCount:!0})})}),e.jsx(t,{span:14,children:j==="ventas"?e.jsx(r.Item,{name:"tienda_id",label:"Tienda Asignada",rules:[{required:!0,message:"Tienda Asignada"}],children:e.jsx(A,{options:f.map(s=>({value:s.tienda_id,label:s.tienda,key:s.tienda_id}))})}):null})]}),e.jsx(r.Item,{name:"trabajador_id",noStyle:!0,children:e.jsx(a,{type:"hidden"})})]})})};export{v as U};
