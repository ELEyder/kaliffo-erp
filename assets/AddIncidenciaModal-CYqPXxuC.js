import{F as p,j as l,D as u}from"./index-Bunp8VmX.js";import{D as m}from"./index-DGSKjoIJ.js";import{A as d}from"./ApiClient-CwTlTqVt.js";import{u as I}from"./useApiRequest-GF_nNgjO.js";const b=n=>{const{handleRequest:i,loading:c,error:t}=I(n);return{loading:c,error:t,addIncidencia:async(e,a)=>{a={...a,trabajador_id:e},console.log("Values",a),await i(()=>d.post("/incidencia/create",a),"Incidencia agregada")},updateIncidencia:async(e,a)=>{await i(()=>d.put(`/incidencia/update/${e}`,a),"Trabajador actualizado")},deleteIncidencia:async e=>{await i(async()=>{await d.delete(`/incidencia/delete/${e}`)},"Incidencia eliminada")}}},x=({openModal:n,closeModal:i,id:c,onAdded:t})=>{const[o]=p.useForm(),{addIncidencia:s}=b(t),r=[{type:"select",label:"Tipo",name:"tipo",options:[{value:"1",label:"Familiar"},{value:"2",label:"Salud"},{value:"3",label:"Personal"}]},{type:"text",label:"Descripcion",name:"descripcion"}],e=async a=>{await s(c,a),i(!1)};return l.jsx(m,{title:"AÃ±adir Trabajador",isOpen:n,onClose:i,onOk:o.submit,children:l.jsx(u,{form:o,onFinish:e,rows:r})})};export{x as A,b as u};
