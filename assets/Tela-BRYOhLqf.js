import"./index-DnZSuapv.js";import{b as i,a as o}from"./apiClient-DNqqoRi2.js";const l=i.create({baseURL:"http://localhost:3000",timeout:5e3,headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});l.interceptors.request.use(a=>{const e=localStorage.getItem("token");return e&&(a.headers.Authorization=`Bearer ${e}`),a});const u=async a=>{try{const e=await o.get("/tela/");a(e.data)}catch(e){return console.error("Error al obtener las telas:",e),"Error al obtener las telas"}},m=async(a,e)=>{try{const r=await o.get(`/tela/${a}`,{params:{estado:1}});let t=0;const n=r.data.map(s=>{const c=new Date(s.fecha_compra);return t+=1,{...s,fecha_compra:c.toLocaleDateString("es-ES"),n:t}});e(n)}catch(r){return console.error("Error al obtener telas activas:",r),"Error al obtener telas activas"}},g=async(a,e)=>{try{const r=await o.get(`/tela/${a}`,{params:{estado:0}});let t=0;const n=r.data.map(s=>{const c=new Date(s.fecha_compra);return t+=1,{...s,fecha_compra:c.toLocaleDateString("es-ES"),n:t}});e(n)}catch(r){return console.error("Error al obtener telas inactivas:",r),"Error al obtener telas inactivas"}},h=async a=>{try{return(await o.get(`/tela/codigos/${a}`)).data}catch(e){return console.error("Error al obtener tipos de tela:",e),"Error al obtener tipos de tela"}},y=async a=>{const e=new FormData;e.append("file",a[0]);try{return await l.post("/tela/create",e)}catch(r){console.error("Error al agregar la tela:",r)}},w=async a=>{try{return await o.put(`/tela/desactivar/${a}`),"Tela desactivada correctamente"}catch(e){return console.error("Error al desactivar la tela:",e),"Error al desactivar la tela"}},b=async a=>{try{const e=await o.get(`/tela/imprimir/${a}`,{responseType:"blob"}),r=e.data,t=window.URL.createObjectURL(r);return window.open(t),e.status}catch(e){console.log(e)}};export{y as a,u as b,m as c,w as d,g as e,h as f,b as g};
