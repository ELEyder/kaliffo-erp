import{F as j,r as i,d as y,j as m,D as x}from"./index-Bunp8VmX.js";import{D as T}from"./index-DGSKjoIJ.js";import"./ApiClient-CwTlTqVt.js";import{u as h}from"./useTiendas-DooPxEv9.js";import{u as F}from"./useTrabajador-CG2NXYvR.js";const N=({openModal:t,closeModal:n,data:e,onUpdated:p})=>{const[o]=j.useForm(),{updateTrabajador:b}=F(p),{tiendas:d}=h(),[r,l]=i.useState(1);i.useEffect(()=>{var s;o.setFieldsValue({trabajador_id:e.trabajador_id,nombre:e.nombre,ap_paterno:e.ap_paterno,ap_materno:e.ap_materno,telefono:e.telefono,dni:e.dni,fecha_nacimiento:e.fecha_nacimiento?y(e.fecha_nacimiento):null,tienda_id:e.tienda_id,rol:e.rol});const f=(s=Object.entries({1:"Ventas",2:"Talleres",3:"Miscelaneos",4:"Costureros"}).find(([v,_])=>_===e.rol))==null?void 0:s[0];l(f)},[t]);const c=[{type:"text",label:"Nombres",name:"nombre"},{type:"text",label:"Apellido Paterno",name:"ap_paterno"},{type:"text",label:"Apellido Materno",name:"ap_materno"},{type:"date",label:"Fecha Nacimiento",name:"fecha_nacimiento"},{type:"number",label:"TelÃ©fono",name:"telefono",max:9},{type:"number",label:"DNI",name:"dni",max:8},{type:"select",label:"Rol",name:"rol",value:r,onChange:a=>l(a),options:[{value:1,label:"Ventas"},{value:2,label:"Talleres"},{value:3,label:"Miscelaneos"},{value:4,label:"Costureros"}]},...r==1?[{type:"select",label:"Tienda Asignada",name:"tienda_id",options:d.map(a=>({value:a.tienda_id,label:a.tienda}))}]:[],{type:"hidden",name:"trabajador_id"}],u=async a=>{await b(e.trabajador_id,a),n(!1)};return m.jsx(T,{title:"Actualizar Trabajador",isOpen:t,onClose:n,onOk:o.submit,children:m.jsx(x,{form:o,onFinish:u,rows:c})})};export{N as U};
