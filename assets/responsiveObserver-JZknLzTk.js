import{r as c,aM as E,x as $,a3 as j,C as y,as as L,R}from"./index-BmWU6D_k.js";import{u as z}from"./useMergedState-hu-o9cEA.js";const W=(r,s)=>{const e=c.useContext(E),a=c.useMemo(()=>{var t;const o=s||$[r],n=(t=e==null?void 0:e[r])!==null&&t!==void 0?t:{};return Object.assign(Object.assign({},typeof o=="function"?o():o),n||{})},[r,s,e]),l=c.useMemo(()=>{const t=e==null?void 0:e.locale;return e!=null&&e.exist&&!t?$.locale:t},[e]);return[a,l]};function S(r){return s=>c.createElement(j,{theme:{token:{motion:!1,zIndexPopupBase:0}}},c.createElement(r,Object.assign({},s)))}const X=(r,s,e,a)=>S(t=>{const{prefixCls:o,style:n}=t,i=c.useRef(null),[p,u]=c.useState(0),[M,w]=c.useState(0),[m,C]=z(!1,{value:t.open}),{getPrefixCls:O}=c.useContext(y),v=O(s||"select",o);c.useEffect(()=>{if(C(!0),typeof ResizeObserver<"u"){const x=new ResizeObserver(d=>{const f=d[0].target;u(f.offsetHeight+8),w(f.offsetWidth)}),g=setInterval(()=>{var d;const f=e?`.${e(v)}`:`.${v}-dropdown`,b=(d=i.current)===null||d===void 0?void 0:d.querySelector(f);b&&(clearInterval(g),x.observe(b))},10);return()=>{clearInterval(g),x.disconnect()}}},[]);let h=Object.assign(Object.assign({},t),{style:Object.assign(Object.assign({},n),{margin:0}),open:m,visible:m,getPopupContainer:()=>i.current});a&&(h=a(h));const P={paddingBottom:p,position:"relative",minWidth:M};return c.createElement("div",{ref:i,style:P},c.createElement(r,Object.assign({},h)))}),B=["xxl","xl","lg","md","sm","xs"],H=r=>({xs:`(max-width: ${r.screenXSMax}px)`,sm:`(min-width: ${r.screenSM}px)`,md:`(min-width: ${r.screenMD}px)`,lg:`(min-width: ${r.screenLG}px)`,xl:`(min-width: ${r.screenXL}px)`,xxl:`(min-width: ${r.screenXXL}px)`}),U=r=>{const s=r,e=[].concat(B).reverse();return e.forEach((a,l)=>{const t=a.toUpperCase(),o=`screen${t}Min`,n=`screen${t}`;if(!(s[o]<=s[n]))throw new Error(`${o}<=${n} fails : !(${s[o]}<=${s[n]})`);if(l<e.length-1){const i=`screen${t}Max`;if(!(s[n]<=s[i]))throw new Error(`${n}<=${i} fails : !(${s[n]}<=${s[i]})`);const u=`screen${e[l+1].toUpperCase()}Min`;if(!(s[i]<=s[u]))throw new Error(`${i}<=${u} fails : !(${s[i]}<=${s[u]})`)}}),r};function q(){const[,r]=L(),s=H(U(r));return R.useMemo(()=>{const e=new Map;let a=-1,l={};return{matchHandlers:{},dispatch(t){return l=t,e.forEach(o=>o(l)),e.size>=1},subscribe(t){return e.size||this.register(),a+=1,e.set(a,t),t(l),a},unsubscribe(t){e.delete(t),e.size||this.unregister()},unregister(){Object.keys(s).forEach(t=>{const o=s[t],n=this.matchHandlers[o];n==null||n.mql.removeListener(n==null?void 0:n.listener)}),e.clear()},register(){Object.keys(s).forEach(t=>{const o=s[t],n=p=>{let{matches:u}=p;this.dispatch(Object.assign(Object.assign({},l),{[t]:u}))},i=window.matchMedia(o);i.addListener(n),this.matchHandlers[o]={mql:i,listener:n},n(i)})},responsiveMap:s}},[r])}export{q as a,X as g,B as r,W as u,S as w};
