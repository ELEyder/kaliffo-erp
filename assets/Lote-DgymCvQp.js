import{a as s}from"./apiClient-DNqqoRi2.js";const d=async(o,t,r)=>{try{const e=(await s.get(`/lotes/${o}`)).data;console.log("Fase:",e.estado),t(e.estado),r(e.estado)}catch(a){console.error("Error al obtener la fase del lote:",a)}},i=async(o,t,r)=>{const e={1:`/corte/lote/${o}`,2:`/lavanderia/lote/${o}`,3:`/acabado/lote/${o}`}[t];if(!e)return r(0);try{const n=(await s.get(e)).data;n.length===0?r(0):(r(n[0].estado),console.log("Estado:",n[0].estado))}catch(c){console.error("Error al obtener estado de lavandería:",c),r(0)}},g=async o=>{try{const a=(await s.get("/lotes")).data.map(e=>({...e,fecha_creacion:new Date(e.fecha_creacion).toLocaleDateString("es-PE",{year:"numeric",month:"2-digit",day:"2-digit"})}));o(a)}catch(t){return console.error("Error al obtener lotes:",t),"Error al obtener lotes"}},p=async(o,t,r)=>{try{const a=o.productos.join(","),e={rollos_tela:t,metraje:r,productos:a};return await s.post("/lotes/create",e),"Lote añadido correctamente"}catch(a){return console.error("Error al añadir el lote:",a),"Error al añadir el lote"}};export{p as a,i as b,d as c,g};
